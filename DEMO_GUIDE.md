# 🎨 提示词优化功能演示指南

> 老王提示：开发服务器已启动 → http://localhost:3000

---

## 📍 集成位置 - 4个功能点

### 1️⃣ 视频生成表单
**访问路径**: http://localhost:3000/editor

**操作步骤**:
1. 在"视频提示词"输入框输入：`一只可爱的小猫在花园里玩耍`
2. 点击下方的 **✨ 优化提示词** 按钮
3. 等待3-5秒，弹出优化结果窗口
4. 查看：
   - 质量对比（原始 vs 优化）
   - 4维度分析（完整性、清晰度、创意性、具体性）
   - 改进建议列表
   - 3个优化方案（1个主推荐 + 2个备选）
5. 选择一个方案，点击"应用选择"
6. 提示词自动填充到输入框

**特殊功能**:
- **双字段优化**：正向提示词和负向提示词都可以优化
- **智能状态**：优化时按钮显示"优化中..."并禁用

---

### 2️⃣ 角色一致性工具
**访问路径**: http://localhost:3000/tools/character-consistency

**操作步骤**:
1. 在"生成提示词"区域输入：`一个穿着红色连衣裙的女孩站在海边`
2. 点击 **✨ 优化提示词** 按钮（在输入框下方）
3. 查看优化结果弹窗
4. 对比原始质量分数和优化后的分数
5. 查看4个维度的改进情况
6. 应用优化结果

**测试要点**:
- ✅ 空提示词检查：不输入内容直接点击按钮会提示"请输入生成提示词"
- ✅ Loading状态：优化期间按钮图标会变成旋转的加载图标
- ✅ 语言切换：切换中英文界面，所有文本都会变化

---

### 3️⃣ 图文交织工具
**访问路径**: http://localhost:3000/tools/text-to-image-with-text

**操作步骤**:
1. 在"描述内容"区域输入：`生成一份海鲜饭的详细食谱`
2. 点击 **✨ 优化提示词** 按钮
3. 查看优化建议：
   - 主推荐方案通常会添加更多细节（制作步骤、材料清单、成品图片等）
   - 备选方案提供不同的优化角度
4. 选择方案并应用

**亮点**:
- 🎯 专门针对"图文交织"场景优化
- 📊 质量评分系统会评估提示词是否适合生成图文内容
- 💡 改进建议会指出如何让提示词更适合图文生成

---

### 4️⃣ 对话编辑工具
**访问路径**: http://localhost:3000/tools/chat-edit

**操作步骤**:
1. 在"编辑提示词"区域输入：`把背景换成夕阳海滩`
2. 注意按钮位置：在 **✨ 优化提示词**、**清空**、**开始编辑** 三个按钮中
3. 点击 **✨ 优化提示词**
4. 查看优化后的编辑指令
5. 应用后再进行图片编辑

**特色功能**:
- 🎨 针对"编辑指令"优化，让AI更准确理解你的编辑意图
- 🔄 字符计数实时显示（0/500）
- ⚡ 快速清空和重新优化

---

## 🎭 优化结果弹窗详解

### 顶部区域：质量对比
```
原始质量: 65/100 → 优化质量: 88/100
[进度条显示]
```

### 质量分析（4维度）
1. **完整性 (Completeness)**: 85/100
   - 评估提示词是否包含足够的细节

2. **清晰度 (Clarity)**: 90/100
   - 评估提示词是否表达清晰、无歧义

3. **创意性 (Creativity)**: 80/100
   - 评估提示词是否具有创意元素

4. **具体性 (Specificity)**: 92/100
   - 评估提示词是否足够具体

### 改进建议
```
✓ 添加了更多视觉细节描述
✓ 明确了场景的时间和光线
✓ 增强了画面的构图指导
```

### 方案选择
```
[●] 主推荐方案 - 88分
    "一只毛色鲜艳的橘色小猫在夕阳下的花园里欢快地追逐蝴蝶，
     阳光透过花瓣洒下斑驳的光影，营造出温馨而梦幻的氛围"

[ ] 备选方案1 - 85分
    "在一个充满生机的花园中，一只可爱的小猫正在玩耍..."

[ ] 备选方案2 - 82分
    "花园场景，特写一只小猫的活动..."

[应用选择]
```

---

## 🧪 完整测试清单

### 功能测试
- [ ] 视频生成 - prompt字段优化
- [ ] 视频生成 - negativePrompt字段优化
- [ ] 角色一致性 - prompt优化
- [ ] 图文交织 - prompt优化
- [ ] 对话编辑 - customPrompt优化

### 边界测试
- [ ] 空提示词检查（应显示错误提示）
- [ ] Loading状态（按钮显示"优化中..."）
- [ ] 超时处理（30秒后显示错误）
- [ ] 弹窗关闭（点击X或外部区域）
- [ ] 方案切换（选择不同方案）

### 国际化测试
- [ ] 切换到英文界面
- [ ] 切换到中文界面
- [ ] 所有按钮文本正确显示
- [ ] 所有弹窗文本正确显示
- [ ] 错误提示正确显示

### 性能测试
- [ ] 首次加载时间 < 2秒
- [ ] 优化API响应时间 2-5秒
- [ ] 弹窗打开动画流畅
- [ ] 方案切换无延迟
- [ ] 应用结果立即生效

---

## 🐛 常见问题

### Q1: 点击优化按钮没反应？
**A**: 检查以下几点：
1. 是否输入了提示词？（空提示词会被拦截）
2. 是否正在生成中？（生成时优化按钮会被禁用）
3. 网络连接是否正常？
4. 查看浏览器控制台是否有错误

### Q2: 优化速度很慢？
**A**:
- 正常响应时间：2-5秒
- 如果超过10秒，可能是网络问题
- 超过30秒会自动超时并显示错误

### Q3: 优化结果不满意？
**A**:
- 尝试3个不同的方案（1个主推荐 + 2个备选）
- 关闭弹窗重新优化（每次可能得到不同结果）
- 手动调整优化后的提示词

### Q4: 语言切换后文本没变？
**A**:
- 刷新页面
- 检查localStorage中的语言设置
- 查看浏览器控制台是否有翻译键缺失的警告

---

## 📊 技术指标

| 指标 | 数值 |
|------|------|
| API响应时间 | 2-5秒 |
| 超时设置 | 30秒 |
| 优化等级 | quick（快速） |
| 分类 | general（通用） |
| 方案数量 | 3个（1主+2备） |
| 质量维度 | 4个 |
| 支持语言 | 中文、英文 |

---

## 🎯 下一步

1. **测试所有功能点**：访问4个页面，逐一测试优化功能
2. **体验优化效果**：对比原始提示词和优化后的差异
3. **检查国际化**：切换语言，确保所有文本正确显示
4. **压力测试**：连续优化多次，检查稳定性

---

**老王签名**：艹！这个演示指南写得够详细了吧！照着测就完事了！🎉
